<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matica slovenská | Spišská Nová Ves - Strážkyňa tradícií</title>
    
    <link rel="shortcut icon" href="Copilot_20260102_102839.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,700;0,900;1,400&family=Poppins:wght@300;400;600;800&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        /* =========================================
           1. ZAKLADNE NASTAVENIA A PREMENNE
           ========================================= */
        html{
            scroll-behavior:smooth;
        }
        
        :root {
            --sk-white: #FFFFFF;
            --sk-blue: #0B4EA2;
            --sk-red: #EE1C25;
            --dark-deep: #020B1A;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow: 0 15px 35px rgba(0,0,0,0.5);
            --light-blue: rgba(104, 152, 200, 1);
            
            /* Nové farby pre kalendár */
            --calendar-header-bg: #E3F2FD;
            --calendar-body-bg: #FFF8F0;
            --calendar-text-dark: #333333;
            --gold: #FFD700;
            --green: #4CAF50;
            --orange: #FF9800;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-deep);
            color: var(--sk-white);
            line-height: 1.8;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--dark-deep); }
        ::-webkit-scrollbar-thumb { background: linear-gradient(var(--sk-blue), var(--sk-red)); border-radius: 5px; }

        /* =========================================
           2. POZADIE
           ========================================= */
        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; background: radial-gradient(circle at center, var(--light-blue) 0%, var(--dark-deep) 100%);
        }

        .tri-color-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 5px;
            z-index: 2000;
            background: linear-gradient(90deg, #fff 33%, #0B4EA2 33%, #0B4EA2 66%, #EE1C25 66%);
        }
        .about-wrapper-uprava {
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 20px; 
            align-items: center;
            grid-column: 1 / -1;
            margin-top: 40px;
        }

        /* =========================================
           3. NAVIGACIA
           ========================================= */
        header {
            position: fixed; top: 5px; left: 0; width: 100%;
            padding: 20px 50px; z-index: 1000;
            transition: var(--transition);
        }

        header.scrolled {
            background: rgba(2, 11, 26, 0.95);
            backdrop-filter: blur(15px);
            padding: 10px 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
        }

        .nav-container {
            max-width: 1400px; margin: 0 auto;
            display: flex; justify-content: space-between; align-items: center;
        }

        .logo-box { display: flex; align-items: center; gap: 15px; }
        .logo-circle {
            width: 50px; height: 50px; border: 2px solid var(--sk-red);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            background: var(--sk-white); animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(238, 28, 37, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(238, 28, 37, 0); } 100% { box-shadow: 0 0 0 0 rgba(238, 28, 37, 0); } }

        .logo-circle img {
            width: 80%; height: 80%; object-fit: contain;
        }

        .logo-text h1 { font-family: 'Playfair Display', serif; font-size: 1.5rem; letter-spacing: 1px; }
        .logo-text span { color: var(--sk-red); font-size: 0.8rem; display: block; text-transform: uppercase; }

        .nav-links { display: flex; gap: 35px; list-style: none; }
        .nav-links a {
            color: var(--sk-white); text-decoration: none; font-weight: 500;
            text-transform: uppercase; font-size: 0.85rem; position: relative;
            transition: 0.3s;
        }
        .nav-links a::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px;
            background: var(--sk-red); transition: 0.3s;
        }
        .nav-links a:hover::after { width: 100%; }
        .nav-links a:hover { color: var(--sk-red); }

        .admin-trigger {
            background: transparent; border: 2px solid var(--sk-white); color: #fff;
            padding: 8px 20px; border-radius: 30px; cursor: pointer; transition: var(--transition);
        }
        .admin-trigger:hover { background: var(--sk-red); border-color: var(--sk-red); transform: scale(1.1); }

        /* =========================================
           4. HERO SEKCIA - OPRAVENÝ GRADIENT
           ========================================= */
        .hero {
            height: 100vh; display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden; text-align: center;
        }

        .hero-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("hour-682565.jpg"); background-position: center; background-size: cover;
            opacity: 0.3; transform: scale(1.1); transition: 10s linear;
        }
        .hero:hover .hero-overlay { transform: scale(1); }

        .hero-content { z-index: 10; max-width: 1000px; padding: 0 20px; }
        .hero-content h2 { 
        font-size: 5rem; 
        font-family: 'Playfair Display', serif; 
        margin-bottom: 20px;
         /* ODSTRANENÝ GRADIENT - TERAZ ČISTÁ BIELA */
        color: #fff; /* Biela farba */
        text-shadow: 0 5px 15px rgba(0,0,0,0.8);
    }
        .hero-content p { font-size: 1.5rem; font-weight: 300; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 40px; text-shadow: 2px 2px 4px black; }

        .btn-main {
            padding: 18px 45px; font-size: 1rem; font-weight: 700; text-transform: uppercase;
            color: #fff; border: none; border-radius: 50px; cursor: pointer;
            background: linear-gradient(45deg, var(--sk-blue), var(--sk-red));
            box-shadow: 0 10px 20px rgba(238, 28, 37, 0.3); transition: var(--transition);
        }
        .btn-main:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(238, 28, 37, 0.5); }

        /* =========================================
           5. SEKCIE ZVYSOK
           ========================================= */
        section { padding: 100px 0; position: relative; }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 20px;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }

        .section-header { text-align: center; margin-bottom: 60px; grid-column: 1 / -1; }
        .section-header h3 { font-size: 3rem; font-family: 'Playfair Display', serif; }
        .section-header .divider {
            width: 100px; height: 4px; background: var(--sk-red); margin: 20px auto;
            position: relative;
        }
        .section-header .divider::before {
            content: '✦'; position: absolute; top: -12px; left: 50%; transform: translateX(-50%);
            color: var(--sk-blue); background: var(--dark-deep); padding: 0 10px;
        }

        /* O nas */
        .about-wrapper { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 80px; 
            align-items: center;
            grid-column: 1 / -1;
        }
        .about-card {
            background: rgba(255, 255, 255, 0.08); padding: 50px; border-radius: 20px;
            backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative; overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .about-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 5px; height: 100%;
            background: linear-gradient(var(--sk-white), var(--sk-blue), var(--sk-red));
        }

        /* =========================================
           6. KALENDÁR WIDGET (Podľa zadania)
           ========================================= */
        .calendar-widget {
            position: sticky;
            top: 120px;
            background: var(--calendar-body-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            height: fit-content;
            max-height: calc(100vh - 200px);
            display: flex;
            flex-direction: column;
        }

        .calendar-header {
            background: var(--calendar-header-bg);
            padding: 25px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid rgba(0,0,0,0.1);
        }

        .month-year {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--sk-blue);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--sk-white);
            border: 2px solid var(--sk-blue);
            color: var(--sk-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .nav-btn:hover {
            background: var(--sk-blue);
            color: var(--sk-white);
            transform: scale(1.1);
        }

        .events-list {
            padding: 20px;
            background: var(--calendar-body-bg);
            overflow-y: auto;
            flex-grow: 1;
        }

        .event-item {
            display: flex;
            align-items: flex-start;
            padding: 20px 15px;
            margin-bottom: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            position: relative;
            transition: transform 0.3s ease;
            border-left: 5px solid var(--gold);
        }

        .event-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }

        .event-item.green { border-left-color: var(--green); }
        .event-item.orange { border-left-color: var(--orange); }
        .event-item.blue { border-left-color: var(--sk-blue); }
        .event-item.red { border-left-color: var(--sk-red); }

        .event-date {
            text-align: center;
            min-width: 70px;
            padding-right: 20px;
            border-right: 1px solid rgba(0,0,0,0.1);
        }

        .event-day {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--sk-blue);
            line-height: 1;
        }

        .event-month {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--sk-blue);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }

        .event-date-range {
            font-size: 0.8rem;
            color: #666;
            margin-top: 3px;
        }

        .event-title {
            flex-grow: 1;
            padding-left: 20px;
        }

        .event-title h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--calendar-text-dark);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        .event-location {
            font-size: 0.85rem;
            color: #666;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .no-events {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            font-style: italic;
        }

        /* =========================================
           7. PODUJATIA SEKCIE
           ========================================= */
        .events-main { 
            grid-column: 1;
        }

        .events-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 30px; 
        }
        
        .event-item-main {
            background: rgba(255, 255, 255, 0.08); 
            border-radius: 15px; 
            padding: 30px;
            transition: var(--transition); 
            border: 1px solid rgba(255, 255, 255, 0.15);
            display: flex; 
            flex-direction: column; 
            position: relative;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .event-item-main:hover {
            background: rgba(255, 255, 255, 0.12); 
            border-color: var(--sk-blue);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        /* Tlacidlo na zmazanie prispevku */
        .delete-btn {
            position: absolute; top: 15px; right: 15px;
            width: 30px; height: 30px; border-radius: 50%;
            background: rgba(238, 28, 37, 0.2); color: var(--sk-red);
            border: 1px solid var(--sk-red);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; z-index: 20;
            opacity: 0;
            pointer-events: none;
        }
        .admin-delete-mode .delete-btn {
            opacity: 1;
            pointer-events: all;
        }
        .delete-btn:hover {
            background: var(--sk-red); color: white; transform: scale(1.1);
        }

        .date-tag {
            background: var(--sk-red); color: #fff; padding: 8px 20px; border-radius: 20px;
            font-size: 0.9rem; font-weight: 700; margin-bottom: 15px; display: inline-block; align-self: flex-start;
            box-shadow: 0 4px 15px rgba(238, 28, 37, 0.3);
        }
        
        /* Galeria v evente */
        .event-gallery-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 20px;
        }
        .zoomable-img {
            width: 100%; height: 80px; object-fit: cover; border-radius: 8px; cursor: zoom-in;
            transition: 0.3s; border: 1px solid rgba(255,255,255,0.1);
        }
        .zoomable-img:hover { transform: scale(1.05); filter: brightness(1.2); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

        /* =========================================
           8. CITATY - OPRAVENÉ ZAROVNANIE
           ========================================= */
        .quote-section {
            background: linear-gradient(rgba(11, 78, 162, 0.15), rgba(2, 11, 26, 0.15));
            text-align: center; 
            padding: 100px 20px;
            position: relative;
        }

        .quote-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .quote-box {
            padding: 60px 40px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .quote-box::before {
            content: '"';
            position: absolute;
            top: 20px;
            left: 30px;
            font-family: 'Playfair Display', serif;
            font-size: 6rem;
            color: rgba(255, 255, 255, 0.1);
            line-height: 1;
        }

        .quote-box blockquote {
            font-family: 'Playfair Display', serif; 
            font-size: 2.5rem; 
            font-style: italic;
            color: #fff;
            line-height: 1.4;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .quote-box cite { 
            display: block; 
            margin-top: 20px; 
            color: var(--sk-red); 
            font-size: 1.2rem; 
            font-weight: 700;
            font-style: normal;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* BLOGY */
        .blogs-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px;
            grid-column: 1 / -1;
        }
        .blog-item {
            background: rgba(255, 255, 255, 0.08); 
            border-radius: 15px; 
            padding: 30px;
            transition: var(--transition); 
            border: 1px solid rgba(255, 255, 255, 0.15);
            cursor: pointer;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        .blog-item:hover {
            background: rgba(255, 255, 255, 0.12); 
            border-color: var(--sk-blue);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        .blog-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 5000;
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.3s ease;
            padding: 20px;
        }
        .blog-modal.active { display: flex; opacity: 1; }
        .blog-modal-content {
            background: rgba(255, 255, 255, 0.95); color: #333; padding: 40px; border-radius: 20px;
            max-width: 900px; max-height: 85vh; overflow-y: auto;
            width: 100%;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .blog-close {
            position: absolute; top: 30px; right: 40px; color: #fff; font-size: 3rem;
            cursor: pointer; transition: 0.3s;
            z-index: 5001;
        }
        .blog-close:hover { color: var(--sk-red); transform: rotate(90deg); }

        /* =========================================
           9. MAPA SEKCIA
           ========================================= */
        .map-section {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
            padding: 50px 0;
            grid-column: 1 / -1;
        }
        .map-column {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }
        .map-overlay-title {
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
            background: var(--sk-red); padding: 10px 30px; border-radius: 30px;
            z-index: 10; font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            pointer-events: none; color: white;
            text-align: center;
        }
        iframe { 
            width: 100%; 
            height: 450px; 
            border: 0; 
            filter: grayscale(100%) invert(90%); 
            transition: 0.5s; 
        }
        .map-column:hover iframe { 
            filter: grayscale(0%) invert(0%); 
        }

        /* =========================================
           10. LIGHTBOX (MODAL PRE FOTKY)
           ========================================= */
        .lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 5000;
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.3s ease;
        }
        .lightbox.active { display: flex; opacity: 1; }
        .lightbox img {
            max-width: 90%; max-height: 90vh; border: 2px solid var(--sk-white);
            box-shadow: 0 0 50px rgba(255,255,255,0.1); animation: zoomIn 0.3s;
            border-radius: 10px;
        }
        .lightbox-close {
            position: absolute; top: 30px; right: 40px; color: #fff; font-size: 3rem;
            cursor: pointer; transition: 0.3s;
        }
        .lightbox-close:hover { color: var(--sk-red); transform: rotate(90deg); }

        /* =========================================
           11. ADMIN PANEL - ROZŠÍRENÉ O REŽIM MAZANIA
           ========================================= */
        .admin-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(2, 11, 26, 0.98); z-index: 3000;
            display: none; align-items: center; justify-content: center;
            backdrop-filter: blur(20px);
            padding: 20px;
        }
        .admin-card {
            width: 100%; max-width: 1000px; background: #fff; color: #333;
            border-radius: 20px; overflow: hidden; position: relative;
            animation: slideIn 0.5s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        @keyframes slideIn { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        .admin-header {
            background: linear-gradient(45deg, var(--sk-blue), var(--sk-red)); 
            color: #fff; padding: 25px 30px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .admin-body { padding: 30px; max-height: 70vh; overflow-y: auto; }
        .form-group { margin-bottom: 20px; }
        .form-group label { 
            display: block; 
            font-weight: 700; 
            margin-bottom: 8px; 
            color: var(--sk-blue); 
            font-size: 0.95rem;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%; padding: 12px 15px; border: 2px solid #ddd; border-radius: 8px;
            font-family: inherit; font-size: 1rem; transition: 0.3s;
            background: #f9f9f9;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: var(--sk-blue); outline: none; background: #fff;
        }
        .form-group input[type="date"] { padding: 11px 15px; }
        .form-group input[type="file"] { padding: 10px; background: #f9f9f9; }
        
        .close-admin { 
            cursor: pointer; 
            font-size: 2rem; 
            transition: 0.3s; 
            width: 40px; 
            height: 40px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
        }
        .close-admin:hover { 
            color: #ffcccc; 
            transform: rotate(90deg); 
        }

        .admin-tabs {
            display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 25px;
            border-bottom: 2px solid #eee; padding-bottom: 15px;
        }
        .admin-tab-btn {
            flex: 1 1 auto; padding: 12px 20px; background: #eee; border: none; 
            border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 0.9rem;
            transition: 0.3s; text-align: center; min-width: 120px;
        }
        .admin-tab-btn:hover { background: #ddd; transform: translateY(-2px); }
        .admin-tab-btn.active { 
            background: linear-gradient(45deg, var(--sk-blue), var(--sk-red)); 
            color: #fff; 
            transform: translateY(-2px); 
            box-shadow: 0 5px 15px rgba(11, 78, 162, 0.3);
        }

        .admin-form { 
            display: none; 
            padding: 25px; 
            background: #f9f9f9; 
            border-radius: 10px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
        }
        .admin-form.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Admin form specific styling */
        .admin-form h4 {
            color: var(--sk-blue); margin-bottom: 20px; padding-bottom: 10px;
            border-bottom: 2px solid #eee; font-size: 1.3rem;
        }
        
        .form-buttons {
            display: flex; gap: 15px; margin-top: 25px;
        }
        .form-buttons button {
            flex: 1; padding: 12px; border-radius: 8px; border: none;
            cursor: pointer; font-weight: bold; transition: 0.3s;
        }
        .btn-save {
            background: var(--sk-blue); color: white;
        }
        .btn-save:hover {
            background: #0a3d8a; transform: translateY(-2px);
        }
        .btn-cancel {
            background: #ddd; color: #333;
        }
        .btn-cancel:hover {
            background: #ccc; transform: translateY(-2px);
        }
        
        /* Tlačidlá pre režim mazania/pridávania */
        .admin-mode-selector {
            display: flex; gap: 10px; margin-bottom: 25px;
            justify-content: center;
        }
        .mode-btn {
            padding: 15px 30px; border: none; border-radius: 10px;
            cursor: pointer; font-weight: bold; font-size: 1rem;
            transition: 0.3s; display: flex; align-items: center; gap: 10px;
        }
        .mode-btn.delete-mode {
            background: #ff4444; color: white;
        }
        .mode-btn.add-mode {
            background: #4CAF50; color: white;
        }
        .mode-btn:hover {
            transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .mode-btn.active {
            transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 3px solid white;
        }
        
        .delete-mode-active {
            background: rgba(255, 68, 68, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #ff4444;
            margin-bottom: 20px;
        }
        .delete-mode-active h4 {
            color: #ff4444; text-align: center; margin-bottom: 15px;
        }
        .delete-mode-active p {
            text-align: center; color: #666;
            margin-bottom: 15px;
        }

        /* =========================================
           12. FOOTER - OPRAVENÉ ZAROVNANIE A VYLEPŠENÝ DIZAJN
           ========================================= */
        .footer-top {
            background: #050E1C; 
            padding: 80px 0;
            grid-column: 1 / -1;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-grid {
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 40px;
            align-items: start;
        }

        .footer-column {
            display: flex;
            flex-direction: column;
        }

        .footer-logo h4 { 
            font-family: 'Playfair Display', serif; 
            font-size: 1.8rem; 
            margin-bottom: 20px; 
            color: white;
        }

        .footer-logo p {
            color: #aaa;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .footer-links h5 { 
            color: var(--sk-red); 
            margin-bottom: 20px; 
            text-transform: uppercase; 
            font-size: 1.1rem; 
            font-weight: 700;
        }

        .footer-links ul { 
            list-style: none; 
        }

        .footer-links li { 
            margin-bottom: 12px; 
        }

        .footer-links a { 
            color: #aaa; 
            text-decoration: none; 
            transition: 0.3s; 
            display: inline-block;
        }

        .footer-links a:hover { 
            color: #fff; 
            transform: translateX(5px); 
        }

        .footer-contact {
            color: #aaa;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .contact-item i {
            color: var(--sk-red);
            margin-right: 10px;
            margin-top: 3px;
            min-width: 20px;
        }

        .contact-text {
            flex: 1;
        }

        .bank-info {
            background: rgba(255, 255, 255, 0.05); 
            padding: 15px; 
            border-radius: 10px;
            margin-top: 15px; 
            font-size: 0.9rem; 
            border-left: 3px solid var(--sk-red);
        }

        .bank-info strong { 
            color: var(--sk-red); 
            display: block; 
            margin-bottom: 5px; 
        }

        .social-icons { 
            display: flex; 
            gap: 15px; 
            margin-top: 20px; 
        }

        .social-icons a {
            width: 40px; 
            height: 40px; 
            background: rgba(255, 255, 255, 0.1); 
            display: flex;
            align-items: center; 
            justify-content: center; 
            border-radius: 50%;
            color: #fff; 
            transition: 0.3s; 
            text-decoration: none;
        }

        .social-icons a:hover { 
            background: var(--sk-red); 
            transform: rotate(360deg); 
        }

        footer.bottom {
            background: #020B1A; 
            padding: 40px 30px; 
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.05); 
            font-size: 0.9rem; 
            color: #aaa;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 20px;
            grid-column: 1 / -1;
            position: relative;
            overflow: hidden;
        }
        
        /* VYLEPŠENÝ DIZAJN SV WEB SOLUTIONS */
        .creator-section {
            background: linear-gradient(45deg, rgba(11, 78, 162, 0.1), rgba(238, 28, 37, 0.1));
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
            max-width: 800px;
            margin-top: 20px;
            position: relative;
        }
        
        .creator-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.03)"/></svg>');
            background-size: cover;
            pointer-events: none;
        }
        
        .creator-logo {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #fff, var(--sk-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .creator-tagline {
            font-size: 1.1rem;
            color: #fff;
            font-style: italic;
            margin-bottom: 15px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        
        .creator-quote {
            font-size: 1rem;
            color: #ccc;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
            border-left: 3px solid var(--sk-red);
            padding-left: 20px;
        }
        
        .creator-contact {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .creator-btn {
            display: inline-flex; align-items: center; gap: 10px;
            background: linear-gradient(45deg, #E1306C, #C13584); color: white; padding: 10px 25px; border-radius: 30px;
            text-decoration: none; font-weight: bold; margin-top: 10px;
            transition: 0.3s;
        }
        .creator-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 10px 20px rgba(225, 48, 108, 0.3);
        }
        
        .fb-main-btn {
            display: inline-flex; align-items: center; gap: 10px;
            background: #1877F2; color: white; padding: 10px 25px; border-radius: 30px;
            text-decoration: none; font-weight: bold; margin-top: 15px;
            transition: 0.3s;
        }
        .fb-main-btn:hover { background: #145dbf; transform: scale(1.05); }

        .ig-main-btn {
            display: inline-flex; align-items: center; gap: 10px;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white; padding: 10px 25px; border-radius: 30px;
            text-decoration: none; font-weight: bold; margin-top: 15px;
            transition: 0.3s;
        }
        .ig-main-btn:hover { transform: scale(1.05); }

        /* REVEAL */
        .reveal { opacity: 0; transform: translateY(50px); transition: 1.2s cubic-bezier(0.17, 0.67, 0.83, 0.67); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* RESPONZIVITA */
        @media (max-width: 992px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .about-wrapper, .footer-grid, .map-section, .blogs-grid { 
                grid-template-columns: 1fr; 
            }
            
            .hero-content h2 { font-size: 3rem; }
            .nav-links { display: none; }
            .events-grid { grid-template-columns: 1fr; }
            .admin-tabs { flex-direction: column; }
            .admin-tab-btn { min-width: 100%; }
            .calendar-widget {
                position: static;
                margin-top: 40px;
            }
            
            .quote-box blockquote {
                font-size: 2rem;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .creator-section {
                padding: 20px;
            }
            
            .creator-logo {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 768px) {
            header { padding: 15px 20px; }
            header.scrolled { padding: 10px 20px; }
            .hero-content h2 { font-size: 2.5rem; }
            .hero-content p { font-size: 1.2rem; }
            .section-header h3 { font-size: 2.2rem; }
            .admin-card { margin: 10px; }
            .event-item {
                flex-direction: column;
                align-items: flex-start;
            }
            .event-date {
                border-right: none;
                border-bottom: 1px solid rgba(0,0,0,0.1);
                padding-right: 0;
                padding-bottom: 15px;
                margin-bottom: 15px;
                width: 100%;
            }
            
            .quote-box {
                padding: 40px 20px;
            }
            
            .quote-box blockquote {
                font-size: 1.8rem;
            }
            
            .map-section {
                grid-template-columns: 1fr;
            }
            
            .creator-section {
                padding: 15px;
            }
            
            .creator-logo {
                font-size: 1.5rem;
            }
            
            .creator-contact {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>

<div class="tri-color-bar"></div>
<div id="bg-canvas"></div>

<div class="lightbox" id="lightbox">
    <span class="lightbox-close" onclick="closeLightbox()">×</span>
    <img id="lightbox-img" src="" alt="Zväčšená fotka">
</div>

<div class="blog-modal" id="blogModal">
    <span class="blog-close" onclick="closeBlogModal()">×</span>
    <div class="blog-modal-content" id="blogContent"></div>
</div>

<header id="mainHeader">
    <div class="nav-container">
        <div class="logo-box">
            <div class="logo-circle">
                <img src="mslogo.png" alt="Matica slovenská logo">
            </div>
            <div class="logo-text">
                <h1>MATICA SLOVENSKÁ</h1>
                <span>Miestny odbor Spišská Nová Ves</span>
            </div>
        </div>
        <ul class="nav-links">
            <li><a href="#home">Úvod</a></li>
            <li><a href="#o-nas">O nás</a></li>
            <li><a href="#podujatia">Podujatia</a></li>
            <li><a href="#uskutocnene">Uskutočnené</a></li>
            <li><a href="#blogy">Blogy</a></li>
            <li><a href="#kontakt">Kontakt</a></li>
        </ul>
        <button class="admin-trigger" onclick="openAdmin()">
            <i class="fas fa-fingerprint"></i> Admin
        </button>
    </div>
</header>

<section id="home" class="hero">
    <div class="hero-overlay">
    </div>
    <div class="hero-content">
        <h2 class="animate__animated animate__fadeInDown">Dedičstvo otcov - naše korene</h2>
        <p class="animate__animated animate__fadeInUp animate__delay-1s">Verní sebe, svorní vpred v srdci Spiša</p>
        <p class="animate__animated animate__fadeInUp animate__delay-1s">S úctou k odkazu otcov slúžime Slovensku aj dnes</p>

        <button class="btn-main animate__animated animate__zoomIn animate__delay-2s" onclick="location.href='#o-nas'">Vstúpte spolu s nami</button>
    </div>
</section>

<section id="o-nas">
    <div class="container">
        <div class="section-header reveal">
            <h3>O nás</h3>
            <div class="divider"></div>
        </div>
        <div class="about-wrapper">
            <div class="about-card reveal">
                <h4 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--sk-white); text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Ochrana identity</h4>
                <p id="about-text-1">Miestny odbor Matice slovenskej v Spišskej Novej Vsi je živým organizmom, ktorý spája lásku k vlasti s úctou k regionálnym tradíciám Spiša. Naším cieľom nie je len spomínať, ale tvoriť hodnoty pre budúce generácie.</p>
                <p style="margin-top: 20px;">Pravidelne organizujeme prednášky, literárne večery a spolupracujeme s mladými talentmi, aby plameň národnej hrdosti nikdy nevyhasol.</p>
            </div>
            <div class="about-img reveal" style="position: relative;">
                <div style="position: absolute; bottom: -20px; right: -20px; background: var(--sk-red); padding: 30px; border-radius: 10px; font-weight: 800; font-size: 2rem; color: white; text-align: center;">160+ <br><small style="font-size: 0.8rem;">ROKOV TRADÍCIE</small></div>
            </div>
        </div>
        <div class="about-wrapper-uprava">
            <div class="about-card reveal">
                <h4 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--sk-white); text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Výbor MOMS SNV</h4>
                <p><strong>Predsedníčka</strong> - Ing. Eva Kalafutová</p>
                <p><strong>Podpredseda</strong> - František Sejut</p>
                <p><strong>Tajomníčka</strong> - Milada Duriančiková Rerková</p>
                <p><strong>Členovia</strong> -  Mgr. Viera Vančová, Ing. Branislav Kalafut</p>
            </div>
        </div>
    </div>
</section>

<section class="quote-section">
    <div class="quote-container">
        <div class="quote-box reveal">
            <blockquote id="main-quote">"Nič nie je drahšie človeku nad jeho slobodu a národnosť."</blockquote>
            <cite id="quote-author">Ľudovít Štúr</cite>
        </div>
    </div>
</section>

<section id="podujatia">
    <div class="container">
        <div class="section-header reveal">
            <h3>Plánované Podujatia</h3>
            <div class="divider"></div>
        </div>
        
        <div class="events-main">
            <div class="events-grid" id="planned-events-container">
                <!-- Plánované podujatia sa načítajú tu -->
            </div>
        </div>
        
        <!-- Kalendár widget pre plánované podujatia -->
        <aside class="calendar-sidebar">
            <div class="calendar-widget">
                <div class="calendar-header">
                    <div class="month-year" id="current-month-year-planned">JANUÁR, 2025</div>
                    <div class="calendar-nav">
                        <button class="nav-btn prev" onclick="changeCalendarMonth('planned', -1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="nav-btn next" onclick="changeCalendarMonth('planned', 1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="events-list" id="calendar-events-planned">
                    <!-- Udalosti sa načítajú dynamicky -->
                </div>
            </div>
        </aside>
    </div>
</section>

<section id="uskutocnene">
    <div class="container">
        <div class="section-header reveal">
            <h3>Uskutočnené Podujatia</h3>
            <div class="divider"></div>
        </div>
        
        <div class="events-main">
            <div class="events-grid" id="past-events-container">
                <!-- Uskutočnené podujatia sa načítajú tu -->
            </div>
        </div>
        
        <!-- Kalendár widget pre uskutočnené podujatia -->
        <aside class="calendar-sidebar">
            <div class="calendar-widget">
                <div class="calendar-header">
                    <div class="month-year" id="current-month-year-past">JANUÁR, 2025</div>
                    <div class="calendar-nav">
                        <button class="nav-btn prev" onclick="changeCalendarMonth('past', -1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="nav-btn next" onclick="changeCalendarMonth('past', 1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="events-list" id="calendar-events-past">
                    <!-- Udalosti sa načítajú dynamicky -->
                </div>
            </div>
        </aside>
    </div>
</section>

<section id="blogy">
    <div class="container">
        <div class="section-header reveal">
            <h3>Blogy</h3>
            <div class="divider"></div>
        </div>
        <div class="blogs-grid" id="blogs-container">
            <!-- Blogy sa načítajú tu -->
        </div>
    </div>
</section>

<div class="map-section">
    <div class="map-column">
        <div class="map-overlay-title">Korešpondenčná adresa</div>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2620.4520559000716!2d20.555200477217877!3d48.94487757134404!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473e492acf5dbabf%3A0x2cef99c4c9731b99!2sNad%20medzou%203047%2F10%2C%20052%2001%20Spi%C5%A1sk%C3%A1%20Nov%C3%A1%20Ves!5e0!3m2!1ssk!2ssk!4v1767381667281!5m2!1ssk!2ssk" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    <div class="map-column">
        <div class="map-overlay-title">Navštívte nás</div>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2625.352467366763!2d20.56534571567406!3d48.94432097929598!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473e3a9686000001%3A0x400f7d1c69766a0!2sZimn%C3%A1%2068%2C%20052%2001%20Spi%C5%A1sk%C3%A1%20Nov%C3%A1%20Ves!5e0!3m2!1ssk!2ssk!4v1704170000000!5m2!1ssk!2ssk" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</div>

<div class="admin-overlay" id="adminOverlay">
    <div class="admin-card">
        <div class="admin-header">
            <h3><i class="fas fa-key"></i> Riadiace centrum</h3>
            <span class="close-admin" onclick="closeAdmin()">×</span>
        </div>
        <div class="admin-body">
            <div class="admin-mode-selector">
                <button class="mode-btn add-mode active" onclick="setAdminMode('add')">
                    <i class="fas fa-plus-circle"></i> Pridať obsah
                </button>
                <button class="mode-btn delete-mode" onclick="setAdminMode('delete')">
                    <i class="fas fa-trash-alt"></i> Mazací režim
                </button>
            </div>
            
            <div id="delete-mode-section" style="display: none;">
                <div class="delete-mode-active">
                    <h4><i class="fas fa-exclamation-triangle"></i> MAZACÍ REŽIM AKTÍVNY</h4>
                    <p>Kliknite na ikonu koša v ľubovoľnom podujatí alebo blogu pre jeho odstránenie.</p>
                    <p style="font-size: 0.9rem;"><em>Poznámka: Táto akcia je nevratná!</em></p>
                </div>
            </div>
            
            <div id="add-mode-section">
                <div class="admin-tabs">
                    <button class="admin-tab-btn active" onclick="showAdminTab('quote')">Citát</button>
                    <button class="admin-tab-btn" onclick="showAdminTab('about')">O nás</button>
                    <button class="admin-tab-btn" onclick="showAdminTab('event')">Podujatie</button>
                    <button class="admin-tab-btn" onclick="showAdminTab('blog')">Blog</button>
                </div>
                
                <div id="admin-form-quote" class="admin-form active">
                    <h4>Upraviť hlavný citát</h4>
                    <div class="form-group">
                        <label>Citát:</label>
                        <textarea id="admin-quote-input" rows="3" placeholder="Zadajte nový citát...">"Nič nie je drahšie človeku nad jeho slobodu a národnosť."</textarea>
                    </div>
                    <div class="form-group">
                        <label>Autor:</label>
                        <input type="text" id="admin-author-input" value="Ľudovít Štúr">
                    </div>
                    <div class="form-buttons">
                        <button class="btn-save" onclick="saveQuoteChanges()">Uložiť zmeny</button>
                        <button class="btn-cancel" onclick="closeAdmin()">Zatvoriť</button>
                    </div>
                </div>
                
                <div id="admin-form-about" class="admin-form">
                    <h4>Upraviť text "O nás"</h4>
                    <div class="form-group">
                        <label>Text o nás:</label>
                        <textarea id="admin-about-text" rows="8">Miestny odbor Matice slovenskej v Spišskej Novej Vsi je živým organizmom, ktorý spája lásku k vlasti s úctou k regionálnym tradíciám Spiša. Naším cieľom nie je len spomínať, ale tvoriť hodnoty pre budúce generácie.</textarea>
                    </div>
                    <div class="form-buttons">
                        <button class="btn-save" onclick="saveAboutChanges()">Uložiť zmeny</button>
                        <button class="btn-cancel" onclick="closeAdmin()">Zatvoriť</button>
                    </div>
                </div>
                
                <div id="admin-form-event" class="admin-form">
                    <h4>Pridať nové podujatie</h4>
                    <div class="form-group">
                        <label>Typ podujatia:</label>
                        <select id="admin-event-type" onchange="toggleEventPhotos()">
                            <option value="planned">Plánované</option>
                            <option value="past">Uskutočnené</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Dátum podujatia:</label>
                        <input type="date" id="admin-event-date">
                    </div>
                    <div class="form-group">
                        <label>Názov podujatia:</label>
                        <input type="text" id="admin-event-title" placeholder="Napríklad: Literárny večer s...">
                    </div>
                    <div class="form-group">
                        <label>Popis podujatia:</label>
                        <textarea id="admin-event-desc" rows="4" placeholder="Podrobný popis podujatia..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Miesto podujatia:</label>
                        <input type="text" id="admin-event-location" placeholder="Zimná 68, Spišská Nová Ves">
                    </div>
                    <div class="form-group">
                        <label>Farba prúžku v kalendári:</label>
                        <select id="admin-event-color">
                            <option value="gold">Zlatá</option>
                            <option value="green">Zelená</option>
                            <option value="orange">Oranžová</option>
                            <option value="blue">Modrá</option>
                            <option value="red">Červená</option>
                        </select>
                    </div>
                    <div class="form-group" id="event-photos-group" style="display: none;">
                        <label><i class="fas fa-camera"></i> Fotky z podujatia (max 3):</label>
                        <input type="file" id="admin-event-photos" multiple accept="image/*">
                        <small style="color: #888;">Nahrávajte fotky len pre uskutočnené podujatia. Max veľkosť: 5MB na obrázok.</small>
                    </div>
                    <div class="form-buttons">
                        <button class="btn-save" onclick="saveEvent()">Uložiť podujatie</button>
                        <button class="btn-cancel" onclick="resetEventForm()">Resetovať formulár</button>
                    </div>
                </div>
                
                <div id="admin-form-blog" class="admin-form">
                    <h4>Pridať nový blog</h4>
                    <div class="form-group">
                        <label>Názov blogu:</label>
                        <input type="text" id="admin-blog-title" placeholder="Zadajte názov článku">
                    </div>
                    <div class="form-group">
                        <label>Stručný popis:</label>
                        <textarea id="admin-blog-desc" rows="3" placeholder="Krátky popis, ktorý sa zobrazí na hlavnej stránke..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Plný text blogu:</label>
                        <textarea id="admin-blog-full" rows="8" placeholder="Celý text blogu..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Nahrať úvodnú fotku:</label>
                        <input type="file" id="admin-blog-photos" accept="image/*">
                        <small style="color: #888;">Odporúčaná veľkosť: 800x400px</small>
                    </div>
                    <div class="form-buttons">
                        <button class="btn-save" onclick="saveBlog()">Publikovať blog</button>
                        <button class="btn-cancel" onclick="resetBlogForm()">Resetovať formulár</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="footer-top" id="kontakt">
    <div class="footer-container">
        <div class="footer-grid">
            <div class="footer-column footer-logo">
                <h4>MATICA SLOVENSKÁ</h4>
                <p>Pestujeme vedomie o koreňoch, z ktorých sme vyrástli. Pridajte sa k nám a tvorte históriu Spiša.</p>
                <div class="social-icons">
                    <a href="https://facebook.com/maticasnv" target="_blank"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
            <div class="footer-column footer-links">
                <h5>Navigácia</h5>
                <ul>
                    <li><a href="#home">Domov</a></li>
                    <li><a href="#o-nas">O nás</a></li>
                    <li><a href="#podujatia">Podujatia</a></li>
                    <li><a href="#uskutocnene">Uskutočnené</a></li>
                    <li><a href="#blogy">Blogy</a></li>
                </ul>
            </div>
            <div class="footer-column footer-contact">
                <h5>Kontakt</h5>
                <div class="contact-item">
                    <i class="fas fa-home"></i>
                    <div class="contact-text">Zimná 68, Spišská Nová Ves</div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div class="contact-text">evakal66@centrum.sk</div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div class="contact-text">+421 918 585 915</div>
                </div>
                
                <div class="bank-info">
                    <strong>Bankové spojenie:</strong>
                    IBAN:
                </div>
                
                <div class="contact-item" style="margin-top: 15px;">
                    <i class="fas fa-id-card"></i>
                    <div class="contact-text">
                        <strong>IČO:</strong> 55285490<br>
                        <strong>DIČ:</strong> 2121988528
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

<footer class="bottom">
    <p>© 2026 Miestny odbor Matice slovenskej Spišská Nová Ves. Vytvorené s úctou k tradíciám.</p>
    <a href="https://www.facebook.com/share/1GWSmR2CBr/?mibextid=wwXIfr" target="_blank" class="fb-main-btn">
        <i class="fab fa-facebook"></i> Sledujte nás na Facebooku
    </a>
    
    <div class="creator-section">
        <div class="creator-logo">SV WEB SOLUTIONS</div>
        <div class="creator-tagline">Profesionálne webové riešenia pre modernú dobu</div>
        <div class="creator-contact">
            <a href="https://instagram.com/svwebsolutions" target="_blank" class="creator-btn">
                <i class="fab fa-instagram"></i> Sledujte nás
            </a>
            <a href="mailto:svetowebsolutions.sk" class="creator-btn">
                <i class="fas fa-envelope"></i> Kontaktujte nás
            </a>
        </div>
    </div>
    
    <p style="margin-top: 10px; font-size: 0.8rem; color: #888;">Made with <i class="fas fa-heart" style="color: var(--sk-red);"></i> by SV WEB SOLUTIONS</p>
</footer>

<script>
    // 1. GLOBÁLNE PREMENNÉ A DATABÁZA
    const SECRET = "matica2026";
    let isAdmin = false;
    let isDeleteMode = false;
    let currentMonthPlanned = new Date().getMonth();
    let currentYearPlanned = new Date().getFullYear();
    let currentMonthPast = new Date().getMonth();
    let currentYearPast = new Date().getFullYear();
    
    // Načítanie dát z localStorage alebo default hodnoty s OPRAVENÝMI DATUMAMI
    let events = JSON.parse(localStorage.getItem('maticaEvents')) || [
        {
            id: 1,
            date: '2025-04-15',
            endDate: null,
            title: 'LITERÁRNY VEČER S MARTINOM KUKUČÍNOM',
            desc: 'Spomienkový večer venovaný dielu a životu významného slovenského spisovateľa. Diskusia s odborníkmi a čítanie z diela.',
            location: 'Zimná 68, Spišská Nová Ves',
            status: 'planned',
            color: 'gold',
            photos: []
        },
        {
            id: 2,
            date: '2025-05-20',
            endDate: '2025-05-22',
            title: 'DEŇ MATICE SLOVENSKEJ',
            desc: 'Slávnostné zhromaždenie pri príležitosti výročia založenia Matice slovenskej. Príhovor hostí a kultúrny program.',
            location: 'Kultúrny dom, Spišská Nová Ves',
            status: 'planned',
            color: 'green',
            photos: []
        },
        {
            id: 3,
            date: '2025-01-10',
            endDate: null,
            title: 'VIANOČNÝ KONCERT SLOVENSKEJ ĽUDOVEJ HUDBY',
            desc: 'Tradičný vianočný koncert s vystúpením miestnych folklórnych súborov. Na programe boli koledy a ľudové piesne z regiónu Spiša.',
            location: 'Kostol sv. Jána Krstiteľa',
            status: 'past',
            color: 'orange',
            photos: [
                'https://images.unsplash.com/photo-1511379938547-c1f69419868d?q=80&w=2070',
                'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?q=80&w=2070',
                'https://images.unsplash.com/photo-1511798615227-abe85f17eb24?q=80&w=2070'
            ]
        },
        {
            id: 4,
            date: '2025-02-28',
            endDate: null,
            title: 'WORKSHOP TRADIČNÝCH SPISKÝCH REMESIEL',
            desc: 'Praktický workshop pre záujemcov o tradičné remeslá. Návštevníci sa naučia základy výroby typických spišských výrobkov.',
            location: 'Mestská knižnica, Spišská Nová Ves',
            status: 'planned',
            color: 'blue',
            photos: []
        }
    ];
    
    let blogs = JSON.parse(localStorage.getItem('maticaBlogs')) || [
        {
            id: 1,
            title: 'Ochrana kultúrneho dedičstva Spiša',
            desc: 'Ako chránime unikátne kultúrne dedičstvo nášho regiónu pre budúce generácie.',
            full: '<h3>Ochrana kultúrneho dedičstva Spiša</h3><p>Spiš je región s bohatým kultúrnym dedičstvom, ktoré siaha hlboko do histórie. Naša organizácia sa venuje dokumentácii a ochrane tradícií, zvykov a historických pamiatok, ktoré sú pre našu identitu kľúčové.</p><p>Pravidelne organizujeme workshopy a prednášky pre školy, kde žiaci a študenti spoznávajú krásu spišských krojev, remesiel a hudby. Spolupracujeme s miestnymi historikmi a etnografmi na zaznamenávaní autentických príbehov a tradícií.</p><p>Našou prioritou je zabezpečiť, aby sa tieto hodnoty neztratili a aby mladá generácia pochopila ich význam pre našu spoločnú identitu.</p>',
            photos: ['https://images.unsplash.com/photo-1545129132-c5f4a4575f38?q=80&w=2070']
        },
        {
            id: 2,
            title: 'Mladí a tradície - ako zapájať novú generáciu',
            desc: 'Moderné prístupy k zachovaniu tradícií medzi mladými ľuďmi.',
            full: '<h3>Mladí a tradície - ako zapájať novú generáciu</h3><p>V dnešnej dobe je dôležité nájsť spôsob, ako osloviť mladú generáciu. Organizujeme interaktívne programy, kde sa mladí ľudia učia tradičné remeslá a zvyky zábavnou formou.</p><p>Používame moderné technológie a sociálne siete na prezentáciu tradičných hodnôt. Vytvárame digitálne archívy, interaktívne mapy historických miest a organizujeme súťaže pre mladých výtvarníkov a spisovateľov.</p><p>Cieľom je ukázať, že tradície nie sú niečo zastarané, ale živá súčasť našej identity, ktorá sa môže rozvíjať a prispôsobovať súčasnému svetu.</p>',
            photos: ['https://images.unsplash.com/photo-1507842217343-ee1b5f2f00d3?q=80&w=2070']
        }
    ];

    // 2. INICIALIZÁCIA
    document.addEventListener('DOMContentLoaded', function() {
        renderAll();
        window.addEventListener('scroll', handleScroll);
        
        // Nastav dnešný dátum v admin formulári
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('admin-event-date').value = today;
        
        // Načítanie ulošených hodnôt
        loadSavedValues();
        
        // Inicializácia kalendárov
        updateCalendarHeaders();
        renderCalendarEvents('planned');
        renderCalendarEvents('past');
        
        // Vytvorenie admin toolbaru (ale zatiaľ skrytý)
        createAdminToolbar();
    });

    // 3. SCROLL EFEKTY
    function handleScroll() {
        const header = document.getElementById('mainHeader');
        if (window.scrollY > 100) header.classList.add('scrolled');
        else header.classList.remove('scrolled');

        const reveals = document.querySelectorAll('.reveal');
        reveals.forEach(r => {
            const top = r.getBoundingClientRect().top;
            if (top < window.innerHeight - 100) r.classList.add('active');
        });
    }

    // 4. KALENDÁR FUNKCIE
    function updateCalendarHeaders() {
        const monthNames = ["JANUÁR", "FEBRUÁR", "MAREC", "APRÍL", "MÁJ", "JÚN", 
                           "JÚL", "AUGUST", "SEPTEMBER", "OKTÓBER", "NOVEMBER", "DECEMBER"];
        
        document.getElementById('current-month-year-planned').textContent = 
            `${monthNames[currentMonthPlanned]}, ${currentYearPlanned}`;
        
        document.getElementById('current-month-year-past').textContent = 
            `${monthNames[currentMonthPast]}, ${currentYearPast}`;
    }
    
    function changeCalendarMonth(type, direction) {
        if (type === 'planned') {
            currentMonthPlanned += direction;
            if (currentMonthPlanned < 0) {
                currentMonthPlanned = 11;
                currentYearPlanned--;
            } else if (currentMonthPlanned > 11) {
                currentMonthPlanned = 0;
                currentYearPlanned++;
            }
            updateCalendarHeaders();
            renderCalendarEvents('planned');
        } else {
            currentMonthPast += direction;
            if (currentMonthPast < 0) {
                currentMonthPast = 11;
                currentYearPast--;
            } else if (currentMonthPast > 11) {
                currentMonthPast = 0;
                currentYearPast++;
            }
            updateCalendarHeaders();
            renderCalendarEvents('past');
        }
    }
    
    function renderCalendarEvents(type) {
        const containerId = type === 'planned' ? 'calendar-events-planned' : 'calendar-events-past';
        const container = document.getElementById(containerId);
        const month = type === 'planned' ? currentMonthPlanned : currentMonthPast;
        const year = type === 'planned' ? currentYearPlanned : currentYearPast;
        
        // Filtrovanie udalostí podľa typu a mesiaca
        const filteredEvents = events.filter(event => {
            if (event.status !== type) return false;
            
            const eventDate = new Date(event.date);
            const eventMonth = eventDate.getMonth();
            const eventYear = eventDate.getFullYear();
            
            return eventMonth === month && eventYear === year;
        });
        
        // Zoradenie podľa dátumu
        filteredEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
        
        if (filteredEvents.length === 0) {
            container.innerHTML = `
                <div class="no-events">
                    <i class="far fa-calendar-times" style="font-size: 2rem; margin-bottom: 10px;"></i>
                    <p>Žiadne podujatia pre tento mesiac</p>
                </div>
            `;
            return;
        }
        
        let html = '';
        const monthShortNames = ["JAN", "FEB", "MAR", "APR", "MÁJ", "JÚN", 
                                "JÚL", "AUG", "SEP", "OKT", "NOV", "DEC"];
        
        filteredEvents.forEach(event => {
            const eventDate = new Date(event.date);
            const day = eventDate.getDate();
            const monthIndex = eventDate.getMonth();
            const eventMonthShort = monthShortNames[monthIndex];
            
            // Formátovanie rozsahu dátumov
            let dateRange = '';
            if (event.endDate) {
                const endDate = new Date(event.endDate);
                const endDay = endDate.getDate();
                const endMonthIndex = endDate.getMonth();
                const endMonthShort = monthShortNames[endMonthIndex];
                dateRange = `<div class="event-date-range">${day}. ${eventMonthShort} - ${endDay}. ${endMonthShort}</div>`;
            }
            
            html += `
                <div class="event-item ${event.color || 'gold'}">
                    <div class="event-date">
                        <div class="event-day">${day}</div>
                        <div class="event-month">${eventMonthShort}</div>
                        ${dateRange}
                    </div>
                    <div class="event-title">
                        <h4>${event.title}</h4>
                        ${event.location ? `<div class="event-location"><i class="fas fa-map-marker-alt"></i> ${event.location}</div>` : ''}
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
    }

    // 5. RENDEROVANIE OBSAHU
    function renderAll() {
        renderEvents();
        renderBlogs();
        updateCalendarHeaders();
        renderCalendarEvents('planned');
        renderCalendarEvents('past');
        
        // Aktualizácia režimu mazania
        if (isAdmin && isDeleteMode) {
            document.body.classList.add('admin-delete-mode');
            document.body.classList.remove('admin-add-mode');
        } else if (isAdmin && !isDeleteMode) {
            document.body.classList.add('admin-add-mode');
            document.body.classList.remove('admin-delete-mode');
        } else {
            document.body.classList.remove('admin-delete-mode', 'admin-add-mode');
        }
    }
    
    function renderEvents() {
        const plannedContainer = document.getElementById('planned-events-container');
        const pastContainer = document.getElementById('past-events-container');
        
        const plannedEvents = events.filter(e => e.status === 'planned')
            .sort((a, b) => new Date(a.date) - new Date(b.date));
        const pastEvents = events.filter(e => e.status === 'past')
            .sort((a, b) => new Date(b.date) - new Date(a.date));
        
        // Plánované podujatia
        plannedContainer.innerHTML = '';
        if (plannedEvents.length === 0) {
            plannedContainer.innerHTML = '<div class="event-item-main" style="text-align: center; opacity: 0.7;"><p>Žiadne plánované podujatia. Pridajte nové v admin panely.</p></div>';
        } else {
            plannedEvents.forEach(event => {
                const eventElement = createEventElement(event);
                plannedContainer.appendChild(eventElement);
            });
        }
        
        // Uskutočnené podujatia
        pastContainer.innerHTML = '';
        if (pastEvents.length === 0) {
            pastContainer.innerHTML = '<div class="event-item-main" style="text-align: center; opacity: 0.7;"><p>Žiadne uskutočnené podujatia.</p></div>';
        } else {
            pastEvents.forEach(event => {
                const eventElement = createEventElement(event);
                pastContainer.appendChild(eventElement);
            });
        }
    }
    
    function createEventElement(event) {
        const div = document.createElement('div');
        div.className = 'event-item-main';
        div.setAttribute('data-id', event.id);
        
        // Formátovanie dátumu
        const date = new Date(event.date);
        const options = { day: 'numeric', month: 'long', year: 'numeric' };
        const formattedDate = date.toLocaleDateString('sk-SK', options).toUpperCase();
        
        let html = `
            <div class="date-tag">${formattedDate}</div>
            <h4>${event.title}</h4>
            <p>${event.desc}</p>
            ${event.location ? `<p style="margin-top: 10px; color: rgba(255,255,255,0.8);"><i class="fas fa-map-marker-alt"></i> ${event.location}</p>` : ''}
        `;
        
        // Galéria pre uskutočnené podujatia
        if (event.status === 'past' && event.photos && event.photos.length > 0) {
            html += '<div class="event-gallery-grid">';
            event.photos.forEach((photo, index) => {
                html += `<img src="${photo}" class="zoomable-img" onclick="openLightbox('${photo}')" alt="Foto z podujatia ${index + 1}">`;
            });
            html += '</div>';
        }
        
        // Tlačidlo na zmazanie (zobrazí sa len v admin režime)
        if (isAdmin) {
            html += `<div class="delete-btn" onclick="deleteEvent(${event.id})">
                        <i class="fas fa-trash-alt"></i>
                     </div>`;
        }
        
        div.innerHTML = html;
        return div;
    }
    
    function renderBlogs() {
        const container = document.getElementById('blogs-container');
        container.innerHTML = '';
        
        if (blogs.length === 0) {
            container.innerHTML = '<div class="blog-item" style="grid-column: 1/-1; text-align: center; opacity: 0.7;"><p>Žiadne blogy. Pridajte nový v admin panely.</p></div>';
            return;
        }
        
        blogs.forEach(blog => {
            const div = document.createElement('div');
            div.className = 'blog-item';
            
            // V režime mazania nechceme otvárať modal
            if (isAdmin && isDeleteMode) {
                div.onclick = null;
                div.style.cursor = 'default';
            } else {
                div.onclick = () => openBlogModal(blog);
                div.style.cursor = 'pointer';
            }
            
            div.innerHTML = `
                <h4>${blog.title}</h4>
                <p>${blog.desc}</p>
                ${blog.photos && blog.photos.length > 0 ? 
                  `<img src="${blog.photos[0]}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-top: 15px;" alt="Úvodná fotka blogu">` : ''}
                ${isAdmin ? `<div class="delete-btn" onclick="deleteBlog(${blog.id})"><i class="fas fa-trash-alt"></i></div>` : ''}
            `;
            container.appendChild(div);
        });
    }

    // 6. ADMIN FUNKCIE - NOVÝ SYSTÉM S TOOLBAROM
    function openAdmin() {
        const pass = prompt("Zadajte prístupový kľúč:");
        if (pass === SECRET) {
            isAdmin = true;
            isDeleteMode = false;
            
            // Zobrazí admin toolbar
            showAdminToolbar();
            renderAll();
            
            // Nastaví začiatočný režim
            setAdminMode('add');
            
            // Otvorí admin panel na pridávanie
            document.getElementById('adminOverlay').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        } else {
            alert("Prístup zamietnutý!");
        }
    }
    
    function closeAdmin() {
        document.getElementById('adminOverlay').style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // VYTVORÍ PLÁVAJÚCI ADMIN TOOLBAR
    function createAdminToolbar() {
        // Skontroluj či už existuje
        if (document.getElementById('adminToolbar')) return;
        
        const toolbar = document.createElement('div');
        toolbar.id = 'adminToolbar';
        toolbar.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(45deg, var(--sk-blue), var(--sk-red));
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 9999;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            display: none;
            flex-direction: column;
            gap: 10px;
            min-width: 220px;
            border: 2px solid white;
            font-family: 'Poppins', sans-serif;
        `;
        
        toolbar.innerHTML = `
            <div style="font-weight: bold; margin-bottom: 5px; display: flex; align-items: center; gap: 10px; font-size: 1.1rem;">
                <i class="fas fa-user-shield"></i> Admin Panel
            </div>
            
            <div style="display: flex; gap: 8px; margin-bottom: 10px;">
                <button onclick="setAdminMode('add')" id="addModeBtn" 
                        style="flex: 1; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;">
                    <i class="fas fa-plus-circle"></i> Pridať
                </button>
                <button onclick="setAdminMode('delete')" id="deleteModeBtn" 
                        style="flex: 1; padding: 10px; background: #ff4444; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s;">
                    <i class="fas fa-trash-alt"></i> Mazanie
                </button>
            </div>
            
            <div id="modeStatus" style="font-size: 0.9rem; padding: 10px; background: rgba(255,255,255,0.15); border-radius: 6px; border-left: 3px solid #4CAF50;">
                <strong>Režim: Pridávanie</strong><br>
                <small>Pre pridanie otvorte admin panel</small>
            </div>
            
            <div style="display: flex; gap: 5px; margin-top: 5px;">
                <button onclick="openAdminPanel()" 
                        style="flex: 1; padding: 8px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">
                    <i class="fas fa-cog"></i> Panel
                </button>
                <button onclick="closeAdminToolbar()" 
                        style="flex: 1; padding: 8px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">
                    <i class="fas fa-times"></i> Odhlásiť
                </button>
            </div>
        `;
        
        document.body.appendChild(toolbar);
    }
    
    function showAdminToolbar() {
        const toolbar = document.getElementById('adminToolbar');
        if (toolbar) {
            toolbar.style.display = 'flex';
        }
    }
    
    function closeAdminToolbar() {
        const toolbar = document.getElementById('adminToolbar');
        if (toolbar) {
            toolbar.style.display = 'none';
        }
        isAdmin = false;
        isDeleteMode = false;
        document.body.classList.remove('admin-delete-mode', 'admin-add-mode');
        renderAll();
    }
    
    function openAdminPanel() {
        document.getElementById('adminOverlay').style.display = 'flex';
        document.body.style.overflow = 'hidden';
        setAdminMode('add');
    }
    
    function setAdminMode(mode) {
        isDeleteMode = (mode === 'delete');
        
        // Aktualizácia tlačidiel v paneli
        const addBtn = document.getElementById('addModeBtn');
        const deleteBtn = document.getElementById('deleteModeBtn');
        const modeStatus = document.getElementById('modeStatus');
        
        if (addBtn && deleteBtn && modeStatus) {
            // Reset farby
            addBtn.style.background = '#4CAF50';
            deleteBtn.style.background = '#ff4444';
            addBtn.style.boxShadow = 'none';
            deleteBtn.style.boxShadow = 'none';
            
            if (mode === 'delete') {
                // Aktivácia mazacieho režimu
                deleteBtn.style.background = '#c62828';
                deleteBtn.style.boxShadow = '0 0 10px rgba(255, 68, 68, 0.7)';
                modeStatus.innerHTML = '<strong style="color: #ffcc00;">REŽIM MAZANIA</strong><br><small>Kliknite na koš pre zmazanie</small>';
                modeStatus.style.borderLeftColor = '#ff4444';
                
                // Zatvoriť admin panel ak je otvorený
                closeAdmin();
            } else {
                // Aktivácia prídavacieho režimu
                addBtn.style.background = '#2E7D32';
                addBtn.style.boxShadow = '0 0 10px rgba(76, 175, 80, 0.7)';
                modeStatus.innerHTML = '<strong>Režim: Pridávanie</strong><br><small>Pre pridanie otvorte admin panel</small>';
                modeStatus.style.borderLeftColor = '#4CAF50';
            }
        }
        
        renderAll();
    }
    
    function showAdminTab(tabId) {
        document.querySelectorAll('.admin-form').forEach(form => form.classList.remove('active'));
        document.querySelectorAll('.admin-tab-btn').forEach(btn => btn.classList.remove('active'));
        
        document.getElementById(`admin-form-${tabId}`).classList.add('active');
        document.querySelector(`button[onclick="showAdminTab('${tabId}')"]`).classList.add('active');
        
        if (tabId === 'event') {
            toggleEventPhotos();
        }
    }
    
    function toggleEventPhotos() {
        const eventType = document.getElementById('admin-event-type').value;
        const photosGroup = document.getElementById('event-photos-group');
        
        if (eventType === 'past') {
            photosGroup.style.display = 'block';
        } else {
            photosGroup.style.display = 'none';
            document.getElementById('admin-event-photos').value = '';
        }
    }
    
    function saveQuoteChanges() {
        const newQuote = document.getElementById('admin-quote-input').value;
        const newAuthor = document.getElementById('admin-author-input').value;
        
        document.getElementById('main-quote').innerText = newQuote;
        document.getElementById('quote-author').innerText = newAuthor;
        
        localStorage.setItem('maticaQuote', newQuote);
        localStorage.setItem('maticaAuthor', newAuthor);
        
        alert('Citát bol úspešne uložený!');
        closeAdmin();
    }
    
    function saveAboutChanges() {
        const newAbout = document.getElementById('admin-about-text').value;
        document.getElementById('about-text-1').innerText = newAbout;
        localStorage.setItem('maticaAbout', newAbout);
        alert('Text "O nás" bol úspešne uložený!');
        closeAdmin();
    }
    
    function saveEvent() {
        const date = document.getElementById('admin-event-date').value;
        const title = document.getElementById('admin-event-title').value;
        const desc = document.getElementById('admin-event-desc').value;
        const location = document.getElementById('admin-event-location').value;
        const status = document.getElementById('admin-event-type').value;
        const color = document.getElementById('admin-event-color').value;
        const photosInput = document.getElementById('admin-event-photos');
        
        if (!date || !title || !desc) {
            alert('Vyplňte povinné polia: dátum, názov a popis!');
            return;
        }
        
        const newEvent = {
            id: Date.now(),
            date,
            title: title.toUpperCase(),
            desc,
            location,
            status,
            color,
            photos: []
        };
        
        // Spracovanie fotiek pre uskutočnené podujatia
        if (status === 'past' && photosInput.files.length > 0) {
            const files = Array.from(photosInput.files).slice(0, 3); // Max 3 fotky
            const readerPromises = files.map(file => {
                return new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(file);
                });
            });
            
            Promise.all(readerPromises).then(photos => {
                newEvent.photos = photos;
                events.push(newEvent);
                localStorage.setItem('maticaEvents', JSON.stringify(events));
                renderAll();
                resetEventForm();
                alert('Podujatie s fotkami bolo úspešne uložené!');
                closeAdmin();
            });
        } else {
            events.push(newEvent);
            localStorage.setItem('maticaEvents', JSON.stringify(events));
            renderAll();
            resetEventForm();
            alert('Podujatie bolo úspešne uložené!');
            closeAdmin();
        }
    }
    
    function resetEventForm() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('admin-event-date').value = today;
        document.getElementById('admin-event-title').value = '';
        document.getElementById('admin-event-desc').value = '';
        document.getElementById('admin-event-location').value = '';
        document.getElementById('admin-event-photos').value = '';
        document.getElementById('admin-event-type').value = 'planned';
        document.getElementById('admin-event-color').value = 'gold';
        toggleEventPhotos();
    }
    
    function deleteEvent(id) {
        if (!isAdmin || !isDeleteMode) return; // Mazanie povolené len v mazacom režime
        
        if (confirm('Naozaj chcete vymazať toto podujatie?')) {
            events = events.filter(e => e.id !== id);
            localStorage.setItem('maticaEvents', JSON.stringify(events));
            renderAll();
            alert('Podujatie bolo vymazané!');
        }
    }
    
    function saveBlog() {
        const title = document.getElementById('admin-blog-title').value;
        const desc = document.getElementById('admin-blog-desc').value;
        const full = document.getElementById('admin-blog-full').value;
        const photosInput = document.getElementById('admin-blog-photos');
        
        if (!title || !desc || !full) {
            alert('Vyplňte všetky povinné polia: názov, popis a text blogu!');
            return;
        }
        
        const newBlog = {
            id: Date.now(),
            title,
            desc,
            full,
            photos: []
        };
        
        // Spracovanie fotky
        if (photosInput.files.length > 0) {
            const reader = new FileReader();
            reader.onload = (e) => {
                newBlog.photos = [e.target.result];
                blogs.push(newBlog);
                localStorage.setItem('maticaBlogs', JSON.stringify(blogs));
                renderAll();
                resetBlogForm();
                alert('Blog bol úspešne publikovaný!');
                closeAdmin();
            };
            reader.readAsDataURL(photosInput.files[0]);
        } else {
            blogs.push(newBlog);
            localStorage.setItem('maticaBlogs', JSON.stringify(blogs));
            renderAll();
            resetBlogForm();
            alert('Blog bol úspešne publikovaný!');
            closeAdmin();
        }
    }
    
    function resetBlogForm() {
        document.getElementById('admin-blog-title').value = '';
        document.getElementById('admin-blog-desc').value = '';
        document.getElementById('admin-blog-full').value = '';
        document.getElementById('admin-blog-photos').value = '';
    }
    
    function deleteBlog(id) {
        if (!isAdmin || !isDeleteMode) return; // Mazanie povolené len v mazacom režime
        
        if (confirm('Naozaj chcete vymazať tento blog?')) {
            blogs = blogs.filter(b => b.id !== id);
            localStorage.setItem('maticaBlogs', JSON.stringify(blogs));
            renderBlogs();
            alert('Blog bol vymazaný!');
        }
    }

    // 7. MODAL FUNKCIE
    function openLightbox(src) {
        if (isAdmin && isDeleteMode) return; // V režime mazania neotvárame lightbox
        
        const lightbox = document.getElementById('lightbox');
        const img = document.getElementById('lightbox-img');
        img.src = src;
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    function closeLightbox() {
        document.getElementById('lightbox').classList.remove('active');
        document.body.style.overflow = 'auto';
    }
    
    function openBlogModal(blog) {
        if (isAdmin && isDeleteMode) return; // V režime mazania neotvárame modal
        
        document.getElementById('blogContent').innerHTML = `
            <h2 style="color: var(--sk-blue); margin-bottom: 15px;">${blog.title}</h2>
            <p style="color: #666; font-style: italic; margin-bottom: 20px;">${blog.desc}</p>
            <div style="margin: 20px 0; line-height: 1.8; font-size: 1.1rem;">${blog.full}</div>
            ${blog.photos && blog.photos.length > 0 ? 
              `<div style="margin-top: 30px;">
                <img src="${blog.photos[0]}" style="width: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
               </div>` : ''}
        `;
        document.getElementById('blogModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    function closeBlogModal() {
        document.getElementById('blogModal').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // 8. NAČÍTANIE ULOŽENÝCH HODNÔT
    function loadSavedValues() {
        const savedQuote = localStorage.getItem('maticaQuote');
        const savedAuthor = localStorage.getItem('maticaAuthor');
        const savedAbout = localStorage.getItem('maticaAbout');
        
        if (savedQuote) {
            document.getElementById('main-quote').innerText = savedQuote;
            document.getElementById('admin-quote-input').value = savedQuote;
        }
        if (savedAuthor) {
            document.getElementById('quote-author').innerText = savedAuthor;
            document.getElementById('admin-author-input').value = savedAuthor;
        }
        if (savedAbout) {
            document.getElementById('about-text-1').innerText = savedAbout;
            document.getElementById('admin-about-text').value = savedAbout;
        }
    }

    // 9. PRIDANIE CSS PRE ADMIN REŽIMY
    const adminStyles = document.createElement('style');
    adminStyles.textContent = `
        .admin-delete-mode .delete-btn {
            opacity: 1 !important;
            pointer-events: all !important;
            animation: pulseDelete 1.5s infinite;
            background: rgba(255, 68, 68, 0.3) !important;
            border: 2px solid #ff4444 !important;
        }
        
        .admin-delete-mode .event-item-main:hover,
        .admin-delete-mode .blog-item:hover {
            border-color: #ff4444 !important;
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.4) !important;
            transform: translateY(-3px);
        }
        
        .admin-delete-mode .delete-btn:hover {
            background: #ff4444 !important;
            transform: scale(1.2) !important;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.8);
        }
        
        .admin-add-mode .event-item-main:hover,
        .admin-add-mode .blog-item:hover {
            border-color: #4CAF50 !important;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3) !important;
            cursor: pointer;
        }
        
        @keyframes pulseDelete {
            0% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(255, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0); }
        }
        
        #adminToolbar button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        #adminToolbar button:active {
            transform: translateY(0);
        }
    `;
    document.head.appendChild(adminStyles);
</script>

</body>
</html>